<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ñ–µ–ª–µ–∑–Ω—ã–π –∫—É–ø–æ–ª ‚Äì 3D –°–∏–º—É–ª—è—Ü–∏—è</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            mono: ['IBM Plex Mono', 'monospace'],
          },
          colors: {
            bisbg: '#181818', // —Ñ–æ–Ω
            bistxt: '#ffe066', // —è–Ω—Ç–∞—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç
            bisborder: '#ffe066',
            bisaccent: '#fffbe6',
            bisbtn: '#181818',
            bisbtnhover: '#ffe066',
            bisbtntext: '#ffe066',
            bisbtnhovertext: '#181818',
          },
          boxShadow: {
            'bis-glow': '0 0 8px 2px #ffe06688',
          },
        },
      },
    }
  </script>
  <style>
    body {
      font-family: 'IBM Plex Mono', monospace;
      background: #181818;
      color: #ffe066;
      letter-spacing: 0.03em;
      text-shadow: 0 0 2px #ffe06688;
      position: relative;
    }
    .bis-panel {
      background: #181818;
      border: 2px solid #ffe066;
      color: #ffe066;
      box-shadow: 0 0 8px 2px #ffe06633;
      padding: 0.75rem 1.25rem;
      margin-bottom: 1.25rem;
      font-family: 'IBM Plex Mono', monospace;
      border-radius: 0;
    }
    .bis-btn {
      background: #181818;
      color: #ffe066;
      border: 2px solid #ffe066;
      font-family: 'IBM Plex Mono', monospace;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      box-shadow: 0 0 8px 1px #ffe06622;
      border-radius: 0;
      transition: background 0.15s, color 0.15s;
      padding: 0.5rem 1.2rem;
      font-size: 1rem;
    }
    .bis-btn:hover, .bis-btn:focus {
      background: #ffe066;
      color: #181818;
      outline: none;
      box-shadow: 0 0 12px 2px #ffe06699;
    }
    .bis-input {
      background: #181818;
      color: #ffe066;
      border: 2px solid #ffe066;
      font-family: 'IBM Plex Mono', monospace;
      border-radius: 0;
      padding: 0.3rem 0.7rem;
      font-size: 1rem;
      outline: none;
      box-shadow: 0 0 6px 1px #ffe06622;
      transition: border 0.15s, box-shadow 0.15s;
    }
    .bis-input:focus {
      border-color: #fffbe6;
      box-shadow: 0 0 12px 2px #ffe06699;
    }
    .bis-label {
      color: #ffe066;
      font-size: 0.95rem;
      margin-bottom: 0.2rem;
      font-family: 'IBM Plex Mono', monospace;
    }
    .bis-hr {
      border: none;
      border-top: 2px solid #ffe066;
      margin: 1rem 0;
    }
    .bis-title {
      color: #ffe066;
      font-size: 1.15rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 0.7rem;
      text-shadow: 0 0 4px #ffe06699;
    }
    .bis-glow {
      text-shadow: 0 0 8px #ffe066, 0 0 2px #ffe066;
    }
    /* Scanlines —ç—Ñ—Ñ–µ–∫—Ç */
    body:before {
      content: "";
      pointer-events: none;
      position: fixed;
      left: 0; top: 0; right: 0; bottom: 0;
      z-index: 9999;
      background: repeating-linear-gradient(
        to bottom,
        transparent,
        transparent 2px,
        #ffe06611 3px,
        transparent 4px
      );
      opacity: 0.18;
      mix-blend-mode: lighten;
    }
    /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
    ::-webkit-scrollbar {
      width: 8px;
      background: #181818;
    }
    ::-webkit-scrollbar-thumb {
      background: #ffe06644;
      border-radius: 0;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #ffe06699;
    }
  </style>
</head>
<body class="m-0 overflow-hidden bg-bisbg text-bistxt font-mono">
  <div id="ui-panel" class="bis-panel absolute top-4 left-4 w-[420px] max-h-[95vh] flex flex-col">
    <h3 class="bis-title border-b-2 border-bisborder pb-2 mb-4">–°–ò–ú–£–õ–Ø–¶–ò–Ø –ü–ï–†–ï–•–í–ê–¢–ê</h3>
    <div class="flex-1 overflow-y-auto pr-2">
      <!-- –ë–ª–æ–∫ —Å —Ä–∞–∫–µ—Ç–æ–π -->
      <div class="mb-4">
        <button class="w-full flex items-center justify-between bis-btn mb-2" onclick="toggleSection('target-section')">
          <span class="bis-label text-lg">–¶–ï–õ–¨ (–†–ê–ö–ï–¢–ê)</span>
          <span id="target-arrow">‚ñº</span>
        </button>
        <div id="target-section" class="space-y-3">
          <label class="bis-label block" data-tooltip="–ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –±–∞–ª–ª–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–∫–µ—Ç—ã –≤ –º–µ—Ç—Ä–∞—Ö –≤ —Å–µ–∫—É–Ω–¥—É. –í–ª–∏—è–µ—Ç –Ω–∞ –¥–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ—Ç–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞.">–ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (–º/—Å)
            <input type="number" id="targetSpeed" value="900" min="100" max="3000" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–£–≥–æ–ª –∑–∞–ø—É—Å–∫–∞ —Ä–∞–∫–µ—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö. –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —É–≥–æ–ª –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–∞–ª—å–Ω–æ—Å—Ç–∏ - –æ–∫–æ–ª–æ 45 –≥—Ä–∞–¥—É—Å–æ–≤.">–£–≥–æ–ª –∑–∞–ø—É—Å–∫–∞ (¬∞)
            <input type="number" id="targetAngle" value="35" min="10" max="80" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–ú–∞—Å—Å–∞ —Ä–∞–∫–µ—Ç—ã –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö. –í–ª–∏—è–µ—Ç –Ω–∞ –∏–Ω–µ—Ä—Ü–∏—é –∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã.">–ú–∞—Å—Å–∞ (–∫–≥)
            <input type="number" id="targetMass" value="1200" min="100" max="10000" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è. –ú–µ–Ω—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∑–Ω–∞—á–∞—é—Ç –ª—É—á—à—É—é –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏–∫—É.">–ö–æ—ç—Ñ. —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è Cd
            <input type="number" id="targetCd" value="0.15" min="0.05" max="1" step="0.05" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–ü–ª–æ—â–∞–¥—å –ø–æ–ø–µ—Ä–µ—á–Ω–æ–≥–æ —Å–µ—á–µ–Ω–∏—è —Ä–∞–∫–µ—Ç—ã –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö. –í–ª–∏—è–µ—Ç –Ω–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞.">–ü–ª–æ—â–∞–¥—å S (–º¬≤)
            <input type="number" id="targetArea" value="0.8" min="0.1" max="10" step="0.1" class="bis-input w-full mt-1">
          </label>
        </div>
      </div>
      <hr class="bis-hr">
      <!-- –ë–ª–æ–∫ —Å –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–º -->
      <div class="mb-4">
        <button class="w-full flex items-center justify-between bis-btn mb-2" onclick="toggleSection('interceptor-section')">
          <span class="bis-label text-lg">–ü–ï–†–ï–•–í–ê–¢–ß–ò–ö</span>
          <span id="interceptor-arrow">‚ñº</span>
        </button>
        <div id="interceptor-section" class="space-y-3">
          <label class="bis-label block" data-tooltip="–ú–∞—Å—Å–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö. –í–ª–∏—è–µ—Ç –Ω–∞ –∏–Ω–µ—Ä—Ü–∏—é –∏ –º–∞–Ω–µ–≤—Ä–µ–Ω–Ω–æ—Å—Ç—å.">–ú–∞—Å—Å–∞ (–∫–≥)
            <input type="number" id="mass" value="400" min="100" max="5000" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è. –ú–µ–Ω—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∑–Ω–∞—á–∞—é—Ç –ª—É—á—à—É—é –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏–∫—É.">–ö–æ—ç—Ñ. —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è Cd
            <input type="number" id="cd" value="0.2" min="0.05" max="1" step="0.05" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–ü–ª–æ—â–∞–¥—å –ø–æ–ø–µ—Ä–µ—á–Ω–æ–≥–æ —Å–µ—á–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö. –í–ª–∏—è–µ—Ç –Ω–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞.">–ü–ª–æ—â–∞–¥—å S (–º¬≤)
            <input type="number" id="area" value="0.4" min="0.1" max="5" step="0.1" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–°–∏–ª–∞ —Ç—è–≥–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –≤ –Ω—å—é—Ç–æ–Ω–∞—Ö. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å.">–°–∏–ª–∞ —Ç—è–≥–∏ (–ù)
            <input type="number" id="thrust" value="30000" min="1000" max="50000" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –¥–≤–∏–≥–∞—Ç–µ–ª—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö. –ü–æ—Å–ª–µ –≤—ã—Ä–∞–±–æ—Ç–∫–∏ —Ç–æ–ø–ª–∏–≤–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ–ª–µ—Ç –ø–æ –∏–Ω–µ—Ä—Ü–∏–∏.">–í—Ä–µ–º—è –≥–æ—Ä–µ–Ω–∏—è (—Å)
            <input type="number" id="burn" value="60" min="1" max="30" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block" data-tooltip="–ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ –º–µ—Ç—Ä–∞—Ö –≤ —Å–µ–∫—É–Ω–¥—É.">–ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (–º/—Å)
            <input type="number" id="v0" value="1" min="10" max="500" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block">–†–∞–¥–∏—É—Å –ø–æ—Ä–∞–∂–µ–Ω–∏—è (–º)
            <input type="number" id="killRadius" value="20" min="10" max="500" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block">–ú–∞–∫—Å. —á–∏—Å–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫
            <input type="number" id="maxCorrections" value="900000" min="1" max="100" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block">–ú–∞–Ω–µ–≤—Ä–µ–Ω–Ω–æ—Å—Ç—å (¬∞/—Å)
            <input type="number" id="maneuverability" value="280" min="5" max="180" class="bis-input w-full mt-1">
          </label>
        </div>
      </div>
      <hr class="bis-hr">
      <!-- –ë–ª–æ–∫ —Å —Ñ–∏–∑–∏–∫–æ–π -->
      <div class="mb-4">
        <button class="w-full flex items-center justify-between bis-btn mb-2" onclick="toggleSection('physics-section')">
          <span class="bis-label text-lg">–ê–¢–ú–û–°–§–ï–†–ê –ò –§–ò–ó–ò–ö–ê</span>
          <span id="physics-arrow">‚ñº</span>
        </button>
        <div id="physics-section" class="space-y-3">
          <label class="bis-label block">–ú–æ–¥–µ–ª—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã
            <select id="atmosphereModel" class="bis-input w-full mt-1">
              <option value="exponential">–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è (–±–∞—Ä–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è)</option>
              <option value="none">–ë–µ–∑ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã (–≤–∞–∫—É—É–º)</option>
            </select>
          </label>
          <label class="bis-label block">–í—ã—Å–æ—Ç–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã (–º)
            <input type="number" id="atmosphereHeight" value="9000" min="1000" max="20000" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block">–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ—Ä—è (–∫–≥/–º¬≥)
            <input type="number" id="rho0" value="1.225" min="0.5" max="2" step="0.001" class="bis-input w-full mt-1">
          </label>
          <label class="bis-label block">–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è (–º/—Å¬≤)
            <input type="number" id="gravity" value="9.81" min="1" max="20" step="0.01" class="bis-input w-full mt-1">
          </label>
        </div>
      </div>
      <div class="space-y-2 mt-4">
        <div class="flex items-center justify-between">
          <label class="bis-label" for="showPrediction">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ—á–∫—É —É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</label>
          <input type="checkbox" id="showPrediction" checked class="accent-bisborder w-5 h-5">
        </div>
        <div class="flex items-center justify-between">
          <label class="bis-label" for="showTrajectories">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏</label>
          <input type="checkbox" id="showTrajectories" checked class="accent-bisborder w-5 h-5">
        </div>
        <div class="flex items-center justify-between">
          <label class="bis-label" for="showPhases">–°—Ç–∞–¥–∏–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤</label>
          <input type="checkbox" id="showPhases" checked class="accent-bisborder w-5 h-5">
        </div>
      </div>
      <!-- –ü–µ—Ä–µ–Ω–æ—Å–∏–º —Å—é–¥–∞ —Ç–∏–ø –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∏ –º–∞–∫—Å. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤ -->
      <div class="mt-4 space-y-3">
        <div class="flex items-center gap-2">
          <div class="flex-1">
            <label class="bis-label block mb-1">–¢–∏–ø –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞</label>
            <select id="interceptType" class="bis-input w-full">
              <option value="trajectory">–¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è</option>
              <option value="lead">–û–ø–µ—Ä–µ–∂–µ–Ω–∏–µ</option>
            </select>
          </div>
          <button id="toggle-constants" class="bis-btn w-10 h-10 flex items-center justify-center text-2xl ml-2" title="–°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã">‚öôÔ∏è</button>
        </div>
        <div>
          <label class="bis-label block mb-1">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤</label>
          <select id="maxInterceptors" class="bis-input w-full">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
        </div>
      </div>
    </div>
    <div class="mt-6 pt-6 border-t-2 border-bisborder space-y-3">
      <div class="flex space-x-3">
        <button id="startBtn" class="bis-btn flex-1">üöÄ –ó–ê–ü–£–°–¢–ò–¢–¨ –¶–ï–õ–¨</button>
        <button id="pauseBtn" class="bis-btn flex-1">‚è∏ –ü–ê–£–ó–ê</button>
      </div>
      <button id="launchInterceptor" disabled class="bis-btn w-full">+ –ó–ê–ü–£–°–¢–ò–¢–¨ –ü–ï–†–ï–•–í–ê–¢–ß–ò–ö</button>
      <button id="resetBtn" class="bis-btn w-full">‚Ü∫ –°–ë–†–û–°–ò–¢–¨ –°–ò–ú–£–õ–Ø–¶–ò–Æ</button>
    </div>
  </div>
  
  <div id="stats-panel" class="bis-panel absolute top-4 right-4 w-[340px] text-sm">
    <h3 class="bis-title border-b-2 border-bisborder pb-2 mb-4">–°–¢–ê–¢–ò–°–¢–ò–ö–ê</h3>
    <div class="space-y-2">
      <div class="flex justify-between items-center">
        <span class="bis-label">–í—Ä–µ–º—è:</span>
        <span class="font-bold bis-glow" id="target-time">0.0 —Å</span>
      </div>
      <div class="flex justify-between items-center">
        <span class="bis-label">–í—ã—Å–æ—Ç–∞ —Ü–µ–ª–∏:</span>
        <span class="font-bold bis-glow" id="target-height">0 –º</span>
      </div>
      <div class="flex justify-between items-center">
        <span class="bis-label">–°–∫–æ—Ä–æ—Å—Ç—å —Ü–µ–ª–∏:</span>
        <span class="font-bold bis-glow" id="target-velocity">0 –º/—Å</span>
      </div>
      <div class="flex justify-between items-center">
        <span class="bis-label">–®–∞–Ω—Å –ø–æ–ø–∞–¥–∞–Ω–∏—è:</span>
        <span class="font-bold bis-glow" id="hit-chance">-</span>
      </div>
      <div class="flex justify-between items-center">
        <span class="bis-label">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ:</span>
        <span class="font-bold bis-glow" id="target-distance">0 –º</span>
      </div>
      <div class="flex justify-between items-center">
        <span class="bis-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤:</span>
        <span class="font-bold bis-glow" id="active-interceptors">0</span>
      </div>
      <div id="interceptors-stats" class="mt-4 space-y-2"></div>
    </div>
  </div>

  <!-- –®–∞–±–ª–æ–Ω—ã –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
  <template id="system-constants-panel-template">
    <div id="system-constants-panel" class="bis-panel absolute top-4 left-[440px] w-[420px] max-h-[95vh] overflow-y-auto" style="display: none;">
      <div class="flex items-center justify-between mb-2">
        <h3 class="bis-title border-b-2 border-bisborder pb-2 mb-0">–°–ò–°–¢–ï–ú–ù–´–ï –ö–û–ù–°–¢–ê–ù–¢–´</h3>
        <button id="reset-constants" class="bis-btn w-9 h-9 flex items-center justify-center text-xl ml-2" title="–°–±—Ä–æ—Å–∏—Ç—å –∫ –ø—Ä–µ—Å–µ—Ç—É"><span style="display:inline-block;transform:rotate(-20deg)">‚ü≥</span></button>
      </div>
      <div class="space-y-4" id="constants-container"></div>
    </div>
  </template>

  <template id="constant-input-template">
    <div class="mb-4 relative">
      <div class="flex items-center justify-between mb-2">
        <label class="bis-label"></label>
        <button class="bis-btn w-7 h-7 p-0 flex items-center justify-center text-lg cursor-help">?</button>
      </div>
      <input type="number" class="bis-input w-full">
    </div>
  </template>

  <template id="toggle-constants-button-template">
    <!-- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –∫–Ω–æ–ø–∫—É-—à–µ—Å—Ç–µ—Ä—ë–Ω–∫—É -->
  </template>

  <template id="message-template">
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-2xl p-6 glass-panel rounded-xl hidden text-center z-50 shadow-2xl"></div>
  </template>

  <template id="bottom-notification-template">
    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 glass-panel p-4 rounded-xl text-lg text-center z-50 hidden min-w-[300px] shadow-2xl"></div>
  </template>

  <div id="message" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-3xl p-5 glass-panel rounded-xl hidden text-center z-50"></div>

  <div id="bottom-notification" class="absolute bottom-5 left-1/2 transform -translate-x-1/2 glass-panel p-4 rounded-xl text-lg text-center z-50 hidden min-w-[300px]"></div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/RGBELoader.js"></script>
  
  <script src="simulation.js"></script>
  <script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–µ–∫—Ü–∏–π
    function toggleSection(sectionId) {
      const section = document.getElementById(sectionId);
      const arrow = document.getElementById(sectionId.replace('section', 'arrow'));
      
      if (section.style.display === 'none') {
        section.style.display = 'block';
        arrow.style.transform = 'rotate(0deg)';
      } else {
        section.style.display = 'none';
        arrow.style.transform = 'rotate(-90deg)';
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ–∫—Ü–∏–π
    document.addEventListener('DOMContentLoaded', () => {
      const sections = ['target-section', 'interceptor-section', 'physics-section'];
      sections.forEach(section => {
        const element = document.getElementById(section);
        if (element) {
          element.style.display = 'none';
        }
      });

      // --- –õ–æ–≥–∏–∫–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç ---
      const panel = document.getElementById('system-constants-panel');
      const toggleBtn = document.getElementById('toggle-constants');
      if (panel && toggleBtn) {
        panel.style.left = '-460px';
        panel.style.transition = 'left 0.3s cubic-bezier(.4,2,.6,1)';
        let open = false;
        toggleBtn.onclick = () => {
          open = !open;
          panel.style.left = open ? 'calc(100vw - 820px)' : '-460px';
          toggleBtn.style.transform = open ? 'rotate(180deg)' : 'none';
        };
      }
    });
  </script>
</body>
</html>
